<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Tue Jul 28 15:53:38 PDT 2015 -->
<title>Data (Bodgitt and Scarper Contractor Brokerage Application)</title>
<meta name="date" content="2015-07-28">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Data (Bodgitt and Scarper Contractor Brokerage Application)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Data.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../suncertify/db/Data.DatabaseCleanup.html" title="class in suncertify.db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?suncertify/db/Data.html" target="_top">Frames</a></li>
<li><a href="Data.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">suncertify.db</div>
<h2 title="Class Data" class="title">Class Data</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>suncertify.db.Data</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.AutoCloseable, <a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Data</span>
extends java.lang.Object
implements <a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a>, java.lang.AutoCloseable</pre>
<div class="block">The Data class is a singleton that manages access to the application database
 file. Following are the descriptions of some noteworthy behaviors of the class.

 <p> All the database records are cached and SoftReferences are used for the 
 record references. This is in anticipation of possible garbage collection 
 that may be induced by memory depletion. 

 <p> All operations that result in modifications to database entries are 
 to the database file as part of the operation. This helps to guard against
 loss of transactions and also it also provides support for the use of 
 SoftReferences.

 <p> There is always the  assumption that all arrays of String objects passed 
 as arguments to some methods in this class has a six elements. It is also 
 assumed that the elements are in this order: 
 
 <ul>
 <li> Name - element 0
 <li> Location - element 1
 <li> Specialities - element 2
 <li> Size - element 3
 <li> Rate - element 4
 <li> Owner - element 5
 </ul>

 When the array argument denotes a record, the elements of the array are 
 interpreted as the attributes using the mapping above. In the case of search 
 criteria, each element is interpreted as the criterion for the corresponding
 record attribute using the mapping.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Augustine Ogundimu</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db"><code>DBMain</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.DatabaseCleanup.html" title="class in suncertify.db">Data.DatabaseCleanup</a></span></code>
<div class="block">The DatabaseCleanup class provides the mechanism for ensuring that 
 the physical database file is closed in the event of a sytem shutdown
 or exit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.DatabaseLock.html" title="class in suncertify.db">Data.DatabaseLock</a></span></code>
<div class="block">The DatabaseLock class provides the mechanism for logical record locks.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.RandomAccessFile</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#databaseFile">databaseFile</a></span></code>
<div class="block">This is a reference to a RandomAccessFile used for accessing the physical
 database file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,java.lang.ref.SoftReference&lt;<a href="../../suncertify/db/DBRecord.html" title="class in suncertify.db">DBRecord</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#dbCache">dbCache</a></span></code>
<div class="block">This is a reference to a TreeMap object for storing the 
 record number/record reference pairs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,java.lang.Short&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#dbMetaData">dbMetaData</a></span></code>
<div class="block">This is the reference to a Map for storing the name/size pair information
 for the database record attributes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#fileCookieValue">fileCookieValue</a></span></code>
<div class="block">An interger value denoting the database file cookie.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#instance">instance</a></span></code>
<div class="block">This is a reference to the only instance of this class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,<a href="../../suncertify/db/Data.DatabaseLock.html" title="class in suncertify.db">Data.DatabaseLock</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#lockCache">lockCache</a></span></code>
<div class="block">This is a reference to a Map object for storing record number/DatabaseLock 
 pairs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#logger">logger</a></span></code>
<div class="block">This is a reference to a Logger object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.locks.ReentrantReadWriteLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#masterLock">masterLock</a></span></code>
<div class="block">The Read/Write lock used for synchronization</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#offsetToRecZero">offsetToRecZero</a></span></code>
<div class="block">An integer value denoting the number of bytes preceding the first record
 in the database file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.locks.ReentrantReadWriteLock.ReadLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#readLock">readLock</a></span></code>
<div class="block">The read lock component of the read/write lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.concurrent.atomic.AtomicInteger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#recordNumber">recordNumber</a></span></code>
<div class="block">An reference to an AtomicInteger for generating record numbers 
 when the database records are being read from the database file 
 for caching and also when a new record is added to the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#recordSize">recordSize</a></span></code>
<div class="block">An integer value denoting the size of each record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#serialVersionUID">serialVersionUID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.locks.ReentrantReadWriteLock.WriteLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#writeLock">writeLock</a></span></code>
<div class="block">The write lock component of the read/write lock.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#Data--">Data</a></span>()</code>
<div class="block">This is the constructor for this class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#close--">close</a></span>()</code>
<div class="block">This is the close method.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#create-java.lang.String:A-">create</a></span>(java.lang.String[]&nbsp;data)</code>
<div class="block">This method adds a new record to the database.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#delete-int-">delete</a></span>(int&nbsp;recNo)</code>
<div class="block">This method logically deletes the record uniquely identified by the 
 integer record number argument from the database.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#find-java.lang.String:A-">find</a></span>(java.lang.String[]&nbsp;criteria)</code>
<div class="block">This method does a search of the database for records matching the 
 specified criteria.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#getDeletedRecordMsg-suncertify.db.DBRecord-">getDeletedRecordMsg</a></span>(<a href="../../suncertify/db/DBRecord.html" title="class in suncertify.db">DBRecord</a>&nbsp;record)</code>
<div class="block">A method for creating a text message when a record has been deleted.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#getInstance--">getInstance</a></span>()</code>
<div class="block">This is a class method for retrieving the refrence to the only instance
 of this class.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#isLocked-int-">isLocked</a></span>(int&nbsp;recNo)</code>
<div class="block">This method indicates whether a record is locked or not.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#lock-int-">lock</a></span>(int&nbsp;recNo)</code>
<div class="block">This method logically locks a record, a record must be locked before it 
 can be updated or deleted.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#read-int-">read</a></span>(int&nbsp;recNo)</code>
<div class="block">This method reads from the database a record with the number in the input
 parameter.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private <a href="../../suncertify/db/DBRecord.html" title="class in suncertify.db">DBRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#recacheRecord-int-">recacheRecord</a></span>(int&nbsp;recNo)</code>
<div class="block">This method recaches a record that had been garbage collected.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#unlock-int-">unlock</a></span>(int&nbsp;recNo)</code>
<div class="block">This method logically unlocks a record.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../suncertify/db/Data.html#update-int-java.lang.String:A-">update</a></span>(int&nbsp;recNo,
      java.lang.String[]&nbsp;data)</code>
<div class="block">This method updates the record uniquely identified by the record number 
 parameter with the values in the array of String object parameter.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#suncertify.db.Data.serialVersionUID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private final&nbsp;java.util.logging.Logger logger</pre>
<div class="block">This is a reference to a Logger object. The logger's name 
 is the fully qualitified name for this class.</div>
</li>
</ul>
<a name="instance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>private static&nbsp;<a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a> instance</pre>
<div class="block">This is a reference to the only instance of this class. Access to this 
 object is through the getInstance() method.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../suncertify/db/Data.html#getInstance--"><code>getInstance()</code></a></dd>
</dl>
</li>
</ul>
<a name="dbMetaData">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbMetaData</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.String,java.lang.Short&gt; dbMetaData</pre>
<div class="block">This is the reference to a Map for storing the name/size pair information
 for the database record attributes.</div>
</li>
</ul>
<a name="databaseFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseFile</h4>
<pre>private&nbsp;java.io.RandomAccessFile databaseFile</pre>
<div class="block">This is a reference to a RandomAccessFile used for accessing the physical
 database file.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>RandomAccessFile</code></dd>
</dl>
</li>
</ul>
<a name="dbCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbCache</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,java.lang.ref.SoftReference&lt;<a href="../../suncertify/db/DBRecord.html" title="class in suncertify.db">DBRecord</a>&gt;&gt; dbCache</pre>
<div class="block">This is a reference to a TreeMap object for storing the 
 record number/record reference pairs. This is the database cache.</div>
</li>
</ul>
<a name="lockCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockCache</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,<a href="../../suncertify/db/Data.DatabaseLock.html" title="class in suncertify.db">Data.DatabaseLock</a>&gt; lockCache</pre>
<div class="block">This is a reference to a Map object for storing record number/DatabaseLock 
 pairs.</div>
</li>
</ul>
<a name="fileCookieValue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileCookieValue</h4>
<pre>private&nbsp;int fileCookieValue</pre>
<div class="block">An interger value denoting the database file cookie. This value is read 
 from the database file.</div>
</li>
</ul>
<a name="offsetToRecZero">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offsetToRecZero</h4>
<pre>private&nbsp;int offsetToRecZero</pre>
<div class="block">An integer value denoting the number of bytes preceding the first record
 in the database file.</div>
</li>
</ul>
<a name="masterLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>masterLock</h4>
<pre>private&nbsp;java.util.concurrent.locks.ReentrantReadWriteLock masterLock</pre>
<div class="block">The Read/Write lock used for synchronization</div>
</li>
</ul>
<a name="writeLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLock</h4>
<pre>private&nbsp;java.util.concurrent.locks.ReentrantReadWriteLock.WriteLock writeLock</pre>
<div class="block">The write lock component of the read/write lock.</div>
</li>
</ul>
<a name="readLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLock</h4>
<pre>private&nbsp;java.util.concurrent.locks.ReentrantReadWriteLock.ReadLock readLock</pre>
<div class="block">The read lock component of the read/write lock.</div>
</li>
</ul>
<a name="recordNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordNumber</h4>
<pre>private&nbsp;java.util.concurrent.atomic.AtomicInteger recordNumber</pre>
<div class="block">An reference to an AtomicInteger for generating record numbers 
 when the database records are being read from the database file 
 for caching and also when a new record is added to the database.</div>
</li>
</ul>
<a name="recordSize">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>recordSize</h4>
<pre>private&nbsp;int recordSize</pre>
<div class="block">An integer value denoting the size of each record. This value is 
 calculated during the construction of this class.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../suncertify/db/Data.html#Data--"><code>Data()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Data--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Data</h4>
<pre>private&nbsp;Data()
      throws <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This is the constructor for this class. It does the following:

 <ul>
 <li> Retrieves the database file name from the configuration manager and
      create a RandomAccessObject with the file name.
 <li> It constructs the database schema object with values read from the
      database file.
 <li> It constructs the database cache by reading each record from the file
      until the end of the database file is reached. 
 <li> It constructs the lock objects needed for access synchronization. 
 <li> It registers an instance of the DatabaseCleanup thread with the java
      runtime.
 </ul></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - If an error is encountered while accessing the 
         physical database file or if the file format is invalid.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDeletedRecordMsg-suncertify.db.DBRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDeletedRecordMsg</h4>
<pre>private&nbsp;java.lang.String&nbsp;getDeletedRecordMsg(<a href="../../suncertify/db/DBRecord.html" title="class in suncertify.db">DBRecord</a>&nbsp;record)</pre>
<div class="block">A method for creating a text message when a record has been deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>record</code> - A reference to a DBRecord of object.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A String object denoting the "record" has been delete message.</dd>
</dl>
</li>
</ul>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a>&nbsp;getInstance()
                          throws <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This is a class method for retrieving the refrence to the only instance
 of this class.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A reference to a DBMain object that is the only instance of this
         class.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - is thrown if errors were encountered in the 
         construction of this classes only instance.</dd>
</dl>
</li>
</ul>
<a name="recacheRecord-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recacheRecord</h4>
<pre>private&nbsp;<a href="../../suncertify/db/DBRecord.html" title="class in suncertify.db">DBRecord</a>&nbsp;recacheRecord(int&nbsp;recNo)
                        throws java.io.IOException</pre>
<div class="block">This method recaches a record that had been garbage collected. This could
 be the case when the SoftReference to the object returns null which 
 indicates that the record has been garbage collected.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recNo</code> - An integer value denoting the unique identifier of the 
         record to be recached.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A reference to a Record object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If an error was encountered while accessing the 
         physical database file.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>SoftReference.get()</code></dd>
</dl>
</li>
</ul>
<a name="read-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;read(int&nbsp;recNo)
                        throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                               <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method reads from the database a record with the number in the input
 parameter.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#read-int-">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recNo</code> - This is an integer denoting the unique identifier of the 
        record to be read.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A reference to an array of String objects denoting the attributes
         of the record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if a record with the specified 
         record number does not exist or had been deleted.</dd>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - If an error is encountered while accessing the 
         physical database file.</dd>
</dl>
</li>
</ul>
<a name="update-int-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(int&nbsp;recNo,
                   java.lang.String[]&nbsp;data)
            throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                   <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method updates the record uniquely identified by the record number 
 parameter with the values in the array of String object parameter.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#update-int-java.lang.String:A-">update</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recNo</code> - An integer uniquely identifying the record to be updated.</dd>
<dd><code>data</code> - An array of String objects denoting the new attributes for
         the record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if a record with the specified 
         record number does not exist or had been deleted.</dd>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if a record with the specified 
         record number does not exist or had been deleted.</dd>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - is thrown if the record being updated is not 
         currently locked. If the record is locked but the thread 
         attempting to do the update does not own the lock, this exception
         is also thrown. This exception is also thrown if an error is 
         encountered while accessing the physical database file.</dd>
</dl>
</li>
</ul>
<a name="delete-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(int&nbsp;recNo)
            throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                   <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method logically deletes the record uniquely identified by the 
 integer record number argument from the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#delete-int-">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recNo</code> - An integer value that uniquely identifies the record to
         be deleted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if a record with the specified 
         record number does not exist or had been deleted.</dd>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - is thrown if the record being deleted is not 
         locked. If the record is locked but the thread attempting to 
         deleted the record is not the owner of the lock. If an error is 
         encountered while accessing the physical database file.</dd>
</dl>
</li>
</ul>
<a name="find-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;int[]&nbsp;find(java.lang.String[]&nbsp;criteria)
           throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                  <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method does a search of the database for records matching the 
 specified criteria. Following are the rules employed.

 <ul>
 
<li> For a record to be included in the search result, it must satisfy all 
 the criteria specified.   

 <li> Each element of the input array of String objects is the criterion 
 for the corresponding element in an array of record attributes. This means 
 that element i in the criteria array is the criterion for element i in 
 a record attributes array.

 <li> A null value or space in an element of the criteria array indicates
 a wild card. It means all undeleted records will be selected regardless of 
 what the value of the corresponding record attribute is. This suggests 
 that if each of the elements of the search criteria equals null or white 
 space or a zero length String, all undeleted records in the database will be 
 returned.

 <li> For the rate field, the search will return all records with rate less
 than or equal to the rate specified. 

 <li> For the size field, the search will return all records with size 
 greater than or equal to the size specified.

 <li> For the name, location, and owner fields all records with a 
 corresponding attribute that starts with the corresponding criterion will
 be selected. For instance, the criterion "Andy" will match "Andy and Sons". 
 
 <li> When the "name" and "location" values are specified in the criteria
 array and each of the other criteria is equal to null or space or zero 
 length String, the search is considered a "key" search. This means that 
 only undeleted records that match both the "name" and "location" exactly 
 will be returned.

 <li> When a "+" is placed in the owner criterion, only unbooked records 
 will be included in the search result. When a "-" is placed in the owner
 criterion, only booked records will be included in the search result.

</ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#find-java.lang.String:A-">find</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>criteria</code> - An array of String objects with each element indicating
 the criterion for the corresponding attribute in an array of record 
 attributes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An array of integers denoting the unique identifiers of the 
         records matching the criteria.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - If an error is encountered while accessing 
         the physical database file.</dd>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if no record matching the 
         criteria is found.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../suncertify/db/DBRecord.html#matchesCriteria-java.lang.String:A-"><code>DBRecord.matchesCriteria(String[])</code></a></dd>
</dl>
</li>
</ul>
<a name="create-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public&nbsp;int&nbsp;create(java.lang.String[]&nbsp;data)
           throws <a href="../../suncertify/db/DuplicateKeyException.html" title="class in suncertify.db">DuplicateKeyException</a>,
                  <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method adds a new record to the database. 

 <p> If there is an inactive record with both name and location fields 
 matching the new record, the record is reactivated and its attributes 
 are replaced with the attributes of the new record. 

 <p> If there are no matching records,</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#create-java.lang.String:A-">create</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - This is an array of String objects denoting the attributes 
        of the new record.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An integer value denoting the unique number of the created record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/DuplicateKeyException.html" title="class in suncertify.db">DuplicateKeyException</a></code> - is thrown If there is an active record that 
         matches the new record in the both the name and location 
         attributes.</dd>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - is thrown if an error was encountered while 
         accessing the physical database file.</dd>
</dl>
</li>
</ul>
<a name="lock-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;void&nbsp;lock(int&nbsp;recNo)
          throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                 <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method logically locks a record, a record must be locked before it 
 can be updated or deleted. If the specified record is already locked the
 thread making this call is blocked until the thread that currently owns 
 the lock on the specified record releases it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#lock-int-">lock</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recNo</code> - An integer value that uniquely identfies the record to be 
         locked.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if a record with the specified 
         record number does not exist or had been deleted.</dd>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - If an error is encountered while accessing the 
         physical database file.</dd>
</dl>
</li>
</ul>
<a name="unlock-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;void&nbsp;unlock(int&nbsp;recNo)
            throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                   <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method logically unlocks a record.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#unlock-int-">unlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recNo</code> - This is an integer value denoting the unique record number 
 of the record to be unlocked.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if a record with the specified 
         record number does not exist.</dd>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - is thrown if the specified record is not locked or
 the thread requesting the unlock operation does not own the lock on the 
 record. If there is a problem during the unlock operation or during access of 
 the physical database file.</dd>
</dl>
</li>
</ul>
<a name="isLocked-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocked</h4>
<pre>public&nbsp;boolean&nbsp;isLocked(int&nbsp;recNo)
                 throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                        <a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></pre>
<div class="block">This method indicates whether a record is locked or not.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../suncertify/db/DBMain.html#isLocked-int-">isLocked</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db">DBMain</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recNo</code> - An integer denoting the unique number of the record.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A boolean true if the record is locked and false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code> - is thrown if a record with the specified 
         record number does not exist or had been deleted.</dd>
<dd><code><a href="../../suncertify/db/DBAccessException.html" title="class in suncertify.db">DBAccessException</a></code> - If an error was encountered while accessing the 
         physical database file.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">This is the close method. It fulfills the AutoCloseable interface 
 implementation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Data.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../suncertify/db/Data.DatabaseCleanup.html" title="class in suncertify.db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?suncertify/db/Data.html" target="_top">Frames</a></li>
<li><a href="Data.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i> Developed by Augustine Ogundimu</i></small></p>
</body>
</html>
